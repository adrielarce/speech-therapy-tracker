{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adrielarce/Documents/Projects/esdm-therapy-tracker-home-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adrielarce/Documents/Projects/esdm-therapy-tracker-home-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/adrielarce/Documents/Projects/esdm-therapy-tracker-home-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/adrielarce/Documents/Projects/esdm-therapy-tracker-home-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/adrielarce/Documents/Projects/esdm-therapy-tracker-home-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/adrielarce/Documents/Projects/esdm-therapy-tracker-home-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/Users/adrielarce/Documents/Projects/esdm-therapy-tracker-home-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n    color: #ff0000;\\n    cursor: pointer;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    color: #ef9b0f;\\n    cursor: pointer;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    padding: 0 40px 40px 40px;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Component}from'react';import ReactTable from'react-table';import api from'../api';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import{Link}from'react-router-dom';import styled from'styled-components';var Wrapper=styled.div(_templateObject());var Update=styled.div(_templateObject2());var Delete=styled.div(_templateObject3());var UpdateMovie=/*#__PURE__*/function(_Component){_inherits(UpdateMovie,_Component);var _super=_createSuper(UpdateMovie);function UpdateMovie(){var _this;_classCallCheck(this,UpdateMovie);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.updateUser=function(event){event.preventDefault();window.location.href=\"/movie/update/\".concat(_this.props.id);};return _this;}_createClass(UpdateMovie,[{key:\"render\",value:function render(){var updateLink=\"/movie/update/\".concat(this.props.id);return/*#__PURE__*/_jsx(Link,{to:updateLink,children:\"Update\"});}}]);return UpdateMovie;}(Component);var DeleteMovie=/*#__PURE__*/function(_Component2){_inherits(DeleteMovie,_Component2);var _super2=_createSuper(DeleteMovie);function DeleteMovie(){var _this2;_classCallCheck(this,DeleteMovie);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this2=_super2.call.apply(_super2,[this].concat(args));_this2.deleteUser=function(event){event.preventDefault();if(window.confirm(\"Do you want to delete the goal \".concat(_this2.props.id,\" permanently?\"))){api.deleteMovieById(_this2.props.id);window.location.reload();}};return _this2;}_createClass(DeleteMovie,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Delete,{onClick:this.deleteUser,children:\"Delete\"});}}]);return DeleteMovie;}(Component);var MoviesList=/*#__PURE__*/function(_Component3){_inherits(MoviesList,_Component3);var _super3=_createSuper(MoviesList);function MoviesList(props){var _this3;_classCallCheck(this,MoviesList);_this3=_super3.call(this,props);_this3.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this3.setState({isLoading:true});_context.next=3;return api.getAllMovies().then(function(response){console.log(response.data);_this3.setState({movies:response.data.data,isLoading:false});});case 3:case\"end\":return _context.stop();}}},_callee);}));_this3.state={movies:[],columns:[],isLoading:false};return _this3;}_createClass(MoviesList,[{key:\"render\",value:function render(){var _this$state=this.state,movies=_this$state.movies,isLoading=_this$state.isLoading;console.log('TCL: MoviesList -> render -> movies',movies);var columns=[{field:'id',headerName:'ID',width:70},{field:'firstName',headerName:'First name',width:130},{field:'lastName',headerName:'Last name',width:130},{field:'age',headerName:'Age',type:'number',width:90},{field:'fullName',headerName:'Full name',description:'This column has a value getter and is not sortable.',sortable:false,width:160,valueGetter:function valueGetter(params){return\"\".concat(params.getValue('firstName')||'',\" \").concat(params.getValue('lastName')||'');}}];var rows=[{id:1,lastName:'Snow',firstName:'Jon',age:35},{id:2,lastName:'Lannister',firstName:'Cersei',age:42},{id:3,lastName:'Lannister',firstName:'Jaime',age:45},{id:4,lastName:'Stark',firstName:'Arya',age:16},{id:5,lastName:'Targaryen',firstName:'Daenerys',age:null},{id:6,lastName:'Melisandre',firstName:null,age:150},{id:7,lastName:'Clifford',firstName:'Ferrara',age:44},{id:8,lastName:'Frances',firstName:'Rossini',age:36},{id:9,lastName:'Roxie',firstName:'Harvey',age:65}];console.log(movies.data);return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Last Name\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"First Name\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Update\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:movies.map(function(row){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.name}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.rating}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(UpdateMovie,{id:row._id})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(DeleteMovie,{id:row._id})})]},row.name);})})]})})});}}]);return MoviesList;}(Component);export default MoviesList;","map":{"version":3,"sources":["/Users/adrielarce/Documents/Projects/esdm-therapy-tracker-home-final/client/src/pages/MoviesList.jsx"],"names":["React","Component","ReactTable","api","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Link","styled","Wrapper","div","Update","Delete","UpdateMovie","updateUser","event","preventDefault","window","location","href","props","id","updateLink","DeleteMovie","deleteUser","confirm","deleteMovieById","reload","MoviesList","componentDidMount","setState","isLoading","getAllMovies","then","response","console","log","data","movies","state","columns","field","headerName","width","type","description","sortable","valueGetter","params","getValue","rows","lastName","firstName","age","map","row","name","rating","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport ReactTable from 'react-table'\nimport api from '../api'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Link } from 'react-router-dom'\n\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n    padding: 0 40px 40px 40px;\n`\n\nconst Update = styled.div`\n    color: #ef9b0f;\n    cursor: pointer;\n`\n\nconst Delete = styled.div`\n    color: #ff0000;\n    cursor: pointer;\n`\nclass UpdateMovie extends Component {\n    updateUser = event => {\n        event.preventDefault()\n        window.location.href = `/movie/update/${this.props.id}`\n    }\n    render() {\n        const updateLink = `/movie/update/${this.props.id}`;\n        return (\n            <Link to={updateLink}>\n              Update\n            </Link>\n        )\n    }\n}\nclass DeleteMovie extends Component {\n    deleteUser = event => {\n        event.preventDefault()\n\n        if (\n            window.confirm(\n                `Do you want to delete the goal ${this.props.id} permanently?`,\n            )\n        ) {\n            api.deleteMovieById(this.props.id)\n            window.location.reload()\n        }\n    }\n\n    render() {\n        return <Delete onClick={this.deleteUser}>Delete</Delete>\n    }\n}\n\nclass MoviesList extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            movies: [],\n            columns: [],\n            isLoading: false,\n        }\n    }\n\n    componentDidMount = async () => {\n        this.setState({ isLoading: true })\n\n        await api.getAllMovies().then(response => {\n            console.log(response.data);\n            this.setState({\n                movies: response.data.data,\n                isLoading: false,\n            });\n        })\n    }\n    render() {\n        const { movies, isLoading } = this.state\n        console.log('TCL: MoviesList -> render -> movies', movies)\n        const columns = [\n            { field: 'id', headerName: 'ID', width: 70 },\n            { field: 'firstName', headerName: 'First name', width: 130 },\n            { field: 'lastName', headerName: 'Last name', width: 130 },\n            {\n              field: 'age',\n              headerName: 'Age',\n              type: 'number',\n              width: 90,\n            },\n            {\n              field: 'fullName',\n              headerName: 'Full name',\n              description: 'This column has a value getter and is not sortable.',\n              sortable: false,\n              width: 160,\n              valueGetter: (params) =>\n                `${params.getValue('firstName') || ''} ${params.getValue('lastName') || ''}`,\n            },\n          ];\n        const rows = [\n            { id: 1, lastName: 'Snow', firstName: 'Jon', age: 35 },\n            { id: 2, lastName: 'Lannister', firstName: 'Cersei', age: 42 },\n            { id: 3, lastName: 'Lannister', firstName: 'Jaime', age: 45 },\n            { id: 4, lastName: 'Stark', firstName: 'Arya', age: 16 },\n            { id: 5, lastName: 'Targaryen', firstName: 'Daenerys', age: null },\n            { id: 6, lastName: 'Melisandre', firstName: null, age: 150 },\n            { id: 7, lastName: 'Clifford', firstName: 'Ferrara', age: 44 },\n            { id: 8, lastName: 'Frances', firstName: 'Rossini', age: 36 },\n            { id: 9, lastName: 'Roxie', firstName: 'Harvey', age: 65 },\n          ];\n\n        console.log(movies.data)\n        return (\n            <React.Fragment>\n            <TableContainer component={Paper}>\n                <Table aria-label=\"simple table\">\n                    <TableHead>\n                    <TableRow>\n                        <TableCell align=\"right\">Last Name</TableCell>\n                        <TableCell align=\"right\">First Name</TableCell>\n                        <TableCell align=\"right\">Update</TableCell>\n                    </TableRow>\n                    </TableHead>\n                    <TableBody>\n                    {movies.map((row) => (\n                        <TableRow key={row.name}>\n                        <TableCell align=\"right\">{row.name}</TableCell>\n                        <TableCell align=\"right\">{row.rating}</TableCell>\n                        <TableCell align=\"right\"><UpdateMovie id={row._id} /></TableCell>\n                        <TableCell align=\"right\"><DeleteMovie id={row._id} /></TableCell>\n                        </TableRow>\n                    ))}\n                    </TableBody>\n                </Table>\n                </TableContainer>\n                </React.Fragment>\n        )\n    }\n}\n\nexport default MoviesList"]},"metadata":{},"sourceType":"module"}