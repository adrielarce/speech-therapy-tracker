{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/adrielarce/Documents/Projects/speech-therapy-tracker/stt-client/src/app/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; //import { BrowserRouter as Router } from \"react-router-dom\";\n\nimport Routes from \"../Routes\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\"; //import { LinkContainer } from \"react-router-bootstrap\";\n\nimport { AppContext } from \"../libs/contextLib\";\nimport { Auth } from \"aws-amplify\";\nimport { useHistory } from \"react-router-dom\";\nimport { onError } from \"../libs/errorLib\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { Link } from \"react-router-dom\";\nimport ListItemText from \"@material-ui/core/ListItemText\"; //import store from \"../store\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [isAuthenticating, setIsAuthenticating] = useState(true);\n  const [isAuthenticated, userHasAuthenticated] = useState(false);\n  useEffect(() => {\n    onLoad();\n  }, []);\n\n  async function onLoad() {\n    try {\n      await Auth.currentSession();\n      userHasAuthenticated(true);\n    } catch (e) {\n      if (e !== \"No current user\") {\n        onError(e);\n      }\n    }\n\n    setIsAuthenticating(false);\n  }\n\n  async function handleLogout() {\n    await Auth.signOut();\n    userHasAuthenticated(false);\n    history.push(\"/login\");\n  }\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"fixed\",\n      className: classes.appBar,\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"inherit\",\n          \"aria-label\": \"open drawer\",\n          edge: \"start\",\n          onClick: handleDrawerToggle,\n          className: classes.menuButton,\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          noWrap: true,\n          children: \"ESDM Therapy Tracker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), isAuthenticated ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/settings\",\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          onClick: handleLogout,\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"Signup\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n      value: {\n        isAuthenticated,\n        userHasAuthenticated\n      },\n      children: /*#__PURE__*/_jsxDEV(Routes, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Or6y/CWB+/JqSQIbYoeLNayNAv4=\", true, function () {\n  return [useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/adrielarce/Documents/Projects/speech-therapy-tracker/stt-client/src/app/index.js"],"names":["React","useState","useEffect","Routes","Toolbar","IconButton","AppContext","Auth","useHistory","onError","AppBar","Link","ListItemText","App","classes","useStyles","history","isAuthenticating","setIsAuthenticating","isAuthenticated","userHasAuthenticated","onLoad","currentSession","e","handleLogout","signOut","push","handleDrawerToggle","setMobileOpen","mobileOpen","appBar","menuButton"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n//import { BrowserRouter as Router } from \"react-router-dom\";\nimport Routes from \"../Routes\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\n//import { LinkContainer } from \"react-router-bootstrap\";\nimport { AppContext } from \"../libs/contextLib\";\nimport { Auth } from \"aws-amplify\";\nimport { useHistory } from \"react-router-dom\";\nimport { onError } from \"../libs/errorLib\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { Link } from \"react-router-dom\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n//import store from \"../store\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  const classes = useStyles();\n  const history = useHistory();\n  const [isAuthenticating, setIsAuthenticating] = useState(true);\n  const [isAuthenticated, userHasAuthenticated] = useState(false);\n\n  useEffect(() => {\n    onLoad();\n  }, []);\n\n  async function onLoad() {\n    try {\n      await Auth.currentSession();\n      userHasAuthenticated(true);\n    } catch (e) {\n      if (e !== \"No current user\") {\n        onError(e);\n      }\n    }\n    setIsAuthenticating(false);\n  }\n\n  async function handleLogout() {\n    await Auth.signOut();\n    userHasAuthenticated(false);\n    history.push(\"/login\");\n  }\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n  return (\n    <div>\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap>\n            ESDM Therapy Tracker\n          </Typography>\n        </Toolbar>\n        {isAuthenticated ? (\n          <>\n            <Link to=\"/settings\">\n              <ListItemText primary={\"Settings\"} />\n            </Link>\n            <Link onClick={handleLogout}>\n              <ListItemText primary={\"Profile\"} />\n            </Link>\n          </>\n        ) : (\n          <>\n            <Link to=\"/signup\">\n              <ListItemText primary={\"Signup\"} />\n            </Link>\n            <Link to=\"/login\">\n              <ListItemText primary={\"Login\"} />\n            </Link>\n          </>\n        )}\n      </AppBar>\n      <AppContext.Provider value={{ isAuthenticated, userHasAuthenticated }}>\n        <Routes />\n      </AppContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}